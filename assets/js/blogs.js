const POSTS_VN = [
    {
        "id": 1,
        "title": "Dự báo giá Ván Ép Phủ Phim 2026 – Chiến lược Sống còn cho Nhà thầu",
        "excerpt": "Giá ván ép phủ phim 2026, thị trường ván ép xây dựng, xu hướng vật liệu xây dựng, chi phí logistics ván ép, quản trị rủi ro giá vật tư.",
        "date": "2025-03-15",
        "image": "../../assets/images/blog_1.png",
        "url": "./blog_1.html"
    },
    {
        "id": 2,
        "title": "Ván Phủ Phim Cho Kho Lạnh – Bí quyết chống ẩm và tiết kiệm chi phí bảo trì",
        "excerpt": "Ván phủ phim kho lạnh, thi công kho lạnh, ván ép chịu ẩm, sàn gác xép kho lạnh, chống cong vênh ván ép.",
        "date": "2025-04-15",
        "image": "../../assets/images/blog_2.png",
        "url": "./blog_2.html"
    },
    {
        "id": 3,
        "title": "Trọng Lượng Ván Phủ Phim 18mm Chuẩn – Mẹo kiểm tra giúp Nhà thầu tránh gian lận",
        "excerpt": "Trọng lượng ván ép phủ phim 18mm, thông số kỹ thuật ván coppha, ván ép 18mm, kiểm tra chất lượng ván bằng trọng lượng, cách tính trọng lượng ván ép.",
        "date": "2025-05-15",
        "image": "../../assets/images/blog_3.png",
        "url": "./blog_3.html"
    },
    {
        "id": 4,
        "title": "Mẹo Đàm Phán Giá Ván Ép Phủ Phim Giúp Tối Ưu Hàng Tỷ Đồng Dòng Tiền",
        "excerpt": "Báo giá ván ép Hà Nam 2026, giá ván ép phủ phim KCN Đồng Văn, mua ván ép Hà Nam, mẹo đàm phán giá ván ép.",
        "date": "2025-06-15",
        "image": "../../assets/images/blog_4.png",
        "url": "./blog_4.html"
    },
    {
        "id": 5,
        "title": "Nhu cầu ván ép phủ phim 2026: Làn sóng đầu tư công và FDI",
        "excerpt": "Nhu cầu ván ép 2026, thị trường ván ép xây dựng, ván phủ phim cho dự án FDI, xu hướng sử dụng ván ép chất lượng cao.",
        "date": "2025-07-15",
        "image": "../../assets/images/blog_5.png",
        "url": "./blog_5.html"
    },
    {
        "id": 6,
        "title": "Lót sàn khu vực máy móc bằng ván phủ phim chịu lực cao",
        "excerpt": "Lót sàn máy móc, ván phủ phim chịu lực, kê lót máy móc, bảo vệ nền nhà xưởng, so sánh ván ép và thép tấm lót sàn.",
        "date": "2025-08-15",
        "image": "../../assets/images/blog_6.png",
        "url": "./blog_6.html"
    },
    {
        "id": 7,
        "title": "Ván phủ phim giúp giảm 32% chi phí coppha tại dự án KCN",
        "excerpt": "Giảm chi phí coppha, ván phủ phim tối ưu chi phí, Case study ván ép KCN, quản lý vật tư coppha, chi phí sử dụng trên mỗi mét vuông.",
        "date": "2025-09-15",
        "image": "../../assets/images/blog_7.png",
        "url": "./blog_7.html"
    },
    {
        "id": 8,
        "title": "Ván phủ phim có phù hợp làm sàn gác xép?",
        "excerpt": "Ván phủ phim làm gác xép, sàn gác lửng giá rẻ, so sánh ván ép và Cemboard, thi công gác xép nhanh.",
        "date": "2025-10-15",
        "image": "../../assets/images/blog_8.png",
        "url": "./blog_8.html"
    },
    {
        "id": 9,
        "title": "Ván ép phủ phim dày 15mm nặng bao nhiêu kg? Thông số & cách tính chi tiết",
        "excerpt": "Ván ép 15mm trọng lượng, thông số ván ép 15mm, kiểm tra ván ép thiếu ly, ván 15mm cho coppha.",
        "date": "2025-11-15",
        "image": "../../assets/images/blog_9.png",
        "url": "./blog_9.html"
    }
];

const POSTS_EN = [
    {
        "id": 1,
        "title": "Film Faced Plywood Price Forecast 2026 – Survival Strategy for Contractors",
        "excerpt": "Plywood price 2026, construction plywood market, building material trends, plywood logistics costs, material price risk management.",
        "date": "2025-03-15",
        "image": "../../assets/images/blog_1.png",
        "url": "./blog_1.html"
    },
    {
        "id": 2,
        "title": "Film Faced Plywood for Cold Storage – Moisture Resistance & Maintenance Savings",
        "excerpt": "Cold storage plywood, cold storage construction, moisture resistant plywood, cold storage mezzanine floor, preventing plywood warping.",
        "date": "2025-04-15",
        "image": "../../assets/images/blog_2.png",
        "url": "./blog_2.html"
    },
    {
        "id": 3,
        "title": "Standard Weight of 18mm Film Faced Plywood – Checking Tips to Avoid Fraud",
        "excerpt": "18mm plywood weight, formwork plywood specs, 18mm plywood, checking plywood quality by weight, calculating plywood weight.",
        "date": "2025-05-15",
        "image": "../../assets/images/blog_3.png",
        "url": "./blog_3.html"
    },
    {
        "id": 4,
        "title": "Tips for Negotiating Film Faced Plywood Prices to Optimize Cash Flow",
        "excerpt": "Ha Nam plywood quote 2026, film faced plywood price, buying plywood, plywood price negotiation tips.",
        "date": "2025-06-15",
        "image": "../../assets/images/blog_4.png",
        "url": "./blog_4.html"
    },
    {
        "id": 5,
        "title": "Demand for Film Faced Plywood in 2026: Public Investment and FDI Wave",
        "excerpt": "Plywood demand 2026, construction plywood market, film faced plywood for FDI projects, high-quality plywood usage trends.",
        "date": "2025-07-15",
        "image": "../../assets/images/blog_5.png",
        "url": "./blog_5.html"
    },
    {
        "id": 6,
        "title": "Heavy-Duty Film Faced Plywood for Machinery Area Floor Protection",
        "excerpt": "Machinery floor lining, heavy-duty film faced plywood, machinery dunnage, factory floor protection, plywood vs steel plates for floor protection.",
        "date": "2025-08-15",
        "image": "../../assets/images/blog_6.png",
        "url": "./blog_6.html"
    },
    {
        "id": 7,
        "title": "Film Faced Plywood Reduced Formwork Costs by 32% in an Industrial Zone Project",
        "excerpt": "Formwork cost reduction, cost-optimized film faced plywood, industrial zone plywood case study, formwork material management, cost per square meter usage.",
        "date": "2025-09-15",
        "image": "../../assets/images/blog_7.png",
        "url": "./blog_7.html"
    },
    {
        "id": 8,
        "title": "Is Film Faced Plywood Suitable for Mezzanine Flooring?",
        "excerpt": "Film faced plywood for mezzanine, low-cost mezzanine flooring, plywood vs Cemboard comparison, fast mezzanine construction.",
        "date": "2025-10-15",
        "image": "../../assets/images/blog_8.png",
        "url": "./blog_8.html"
    },
    {
        "id": 9,
        "title": "How Much Does 15mm Film Faced Plywood Weigh? Specifications & Detailed Calculation",
        "excerpt": "15mm plywood weight, 15mm plywood specifications, how to check under-thickness plywood, 15mm plywood for formwork.",
        "date": "2025-11-15",
        "image": "../../assets/images/blog_9.png",
        "url": "./blog_9.html"
    }
];

/* ================= CONFIG LANG ================= */
const langEl = document.getElementById("currentLang");
const currentLang = langEl ? langEl.innerText.trim() : "VN";

const POSTS = currentLang === "EN" ? POSTS_EN : POSTS_VN;

const TEXTS = {
    VN: {
        readMore: "Đọc thêm →",
        locale: "vi-VN"
    },
    EN: {
        readMore: "Read more →",
        locale: "en-US"
    }
};

const T = TEXTS[currentLang] || TEXTS.VN;

const POSTS_PER_PAGE = 3;
let currentPage = 1;

/* ================= RENDER ================= */
const blogList = document.querySelector(".blog-list");
const pagination = document.querySelector(".pagination");
const latestList = document.querySelector(".latest-posts");

function renderPosts() {
    const start = (currentPage - 1) * POSTS_PER_PAGE;
    const end = start + POSTS_PER_PAGE;
    const posts = POSTS.slice(start, end);

    blogList.innerHTML = posts.map(post => `
        <article class="blog-card">
            <a href="${post.url}" class="blog-link"><img src="${post.image}" class="blog-thumb" alt="${post.title}"></a>
            <div class="blog-content">
                <time class="blog-date">${formatDate(post.date)}</time>
                <h3 class="blog-title">${post.title}</h3>
                <p class="blog-excerpt">${post.excerpt}</p>
                <a href="${post.url}" class="blog-link">${T.readMore}</a>
            </div>
        </article>
    `).join("");
}

function renderPagination() {
    const totalPages = Math.ceil(POSTS.length / POSTS_PER_PAGE);

    pagination.innerHTML = Array.from({ length: totalPages }, (_, i) => `
        <button class="page-btn ${i + 1 === currentPage ? "active" : ""}"
            onclick="goToPage(${i + 1})">
            ${i + 1}
        </button>
    `).join("");
}

function renderLatest() {
    latestList.innerHTML = POSTS.slice(0, 4).map(post => `
        <li>
            <img src="${post.image}">
            <div class="blog-laster"><a href="${post.url}">${post.title}</a>
                   <time class="blog-date">${formatDate(post.date)}</time></div>
        </li>
    `).join("");
}

function goToPage(page) {
    currentPage = page;
    renderPosts();
    renderPagination();
}

function formatDate(date) {
    return new Date(date).toLocaleDateString(T.locale);
}

/* INIT */
POSTS.sort((a, b) => new Date(b.date) - new Date(a.date));
renderPosts();
renderPagination();
renderLatest();